{% extends 'admin_layout.html' %} {% load static %} {% load crispy_forms_tags %} {% block title %}
<title>Notificaton</title>
{% endblock title %} {% block css_files %}

<link rel="stylesheet" href="{% static '/css/main.css' %}" />
<link rel="stylesheet" href="{% static '/css/homepage.css' %}" />
<link rel="stylesheet" href="{% static '/css/profile.css' %}" />

{% endblock css_files %} {% block main_content %}




<!-- Modal -->
<div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class=" border-0 d-flex justify-content-end ">

        <button type="button" class="btn-close me-1 mt-1" data-mdb-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
        <div class=" m-auto  p-5 ">
          <h1 class="text-center">Send Notification</h1>
          <!-- Email input -->
          <form class=" mb-4 d-flex flex-column gap-2" method="POST">
            {% csrf_token %}
            {{ form.message | as_crispy_field }}
            {{ form.broadcast_on | as_crispy_field }}
            <button type="submit" class="btn btn-primary btn-block">Send</button>
          </form>
          </form>
        </div>
      </div>

    </div>
  </div>
</div>


<section class="mb-5  m-auto mx-5 shadow shadow-5-soft">
  <h1 class="text-center ">Broadcasted Notification</h1>

  <div class="d-flex ">

    <span type="button" class=" ms-auto my-2 text-success me-5 " data-mdb-toggle="modal"
      data-mdb-target="#exampleModal">
      <i class="fas fa-plus"></i> Category
    </span>
  </div>
  <div class=" ">
    <table class="
                    table table-borderless table-hover
                    overflow-hidden
                    
                   
                
                    ">
      <thead class="overflow-hidden m-auto">
        <tr class="row  row-cols-3 w-100">
          <th class="col-lg-3 col-4 col-md-4 ">Date</th>
          <th class="col-lg-7 col-5 col-sm-4 col-md-5 ">Message</th>


          <th class="col-lg-2 col-3 ">Actions</th>
        </tr>
      </thead>
      <tbody class="m-auto">
        {% for n in notification %}
        <tr class="text-white row  row-cols-3 ">
          <td class="col-lg-3 col-4 col-md-4">
            <div class="d-flex align-items-center">

              <div class=" ms-lg-1 ">
                <p class="fw-bold mb-1 text-dark">{{n.broadcast_on}}</p>

              </div>
            </div>
          </td>
          <td class=" col-lg-7 col-sm-4 col-md-5 col-5 text-wrap " style="white-space:normal;">

            <p class="w-100  text-black-50 p-0   mb-0" style="white-space:normal;">


              {{n.message}}



            </p>

          </td>


          <td class="col-lg-2 col-2   ">
            <button type="button" class="btn btn-danger btn-sm btn-rounded">
              <i class="fas fa-trash-alt"></i>
            </button>

          </td>
        </tr>




        {% endfor %}



      </tbody>
    </table>
  </div>
</section>


{% endblock main_content %}